<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Mastery | Bhavesh</title>
  
  <!-- Link to Main CSS -->
  <link rel="stylesheet" href="style.css">
  <!-- Link to Main Script -->
  <script src="script.js" defer></script>

  <style>
    /* --- Specific Styles for Mastery Page --- */
    
    /* Safety: Ensure content is visible even if animation script lags */
    .fade-in { opacity: 1 !important; transform: none !important; }

    .page {
      max-width: 1200px;
      margin: 0 auto;
      padding: 4rem 5%;
      min-height: 80vh;
    }

    .page h1 { font-size: 3rem; margin-bottom: 1rem; color: #fff; }
    .page p { color: #b0b0b0; max-width: 800px; line-height: 1.6; }

    /* Mastery Blocks Grid */
    .mastery-blocks {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 2rem;
      margin-top: 3rem;
    }

    .mastery-block {
      background: rgba(30, 30, 30, 0.6);
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: 12px;
      padding: 2rem;
      transition: transform 0.3s, border-color 0.3s;
      cursor: pointer;
    }

    .mastery-block:hover {
      transform: translateY(-5px);
      border-color: #ffcc00;
    }

    .mastery-block h3 { color: #fff; font-size: 1.5rem; margin-bottom: 0.5rem; }
    .mastery-block ul { list-style: none; padding: 0; margin-top: 1rem; }
    .mastery-block ul li {
      position: relative; padding-left: 1.2rem; margin-bottom: 0.5rem; font-size: 0.9rem; color: #aaa;
    }
    .mastery-block ul li::before {
      content: "‚ñπ"; position: absolute; left: 0; color: #ffcc00;
    }

    /* Documentation View */
    .doc-page { display: none; gap: 2rem; }
    .doc-page.active { display: flex; animation: slideUp 0.5s ease; }

    @keyframes slideUp {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }

    /* Sidebar */
    .sidebar {
      width: 250px;
      flex-shrink: 0;
      background: rgba(255,255,255,0.03);
      border-radius: 12px;
      padding: 1.5rem;
      height: fit-content;
      position: sticky;
      top: 100px;
      border: 1px solid rgba(255,255,255,0.1);
    }

    .sidebar h3 { color: white; margin-bottom: 1rem; border-bottom: 1px solid rgba(255,255,255,0.1); padding-bottom: 0.5rem; }
    .sidebar ul { list-style: none; padding: 0; }
    .sidebar li {
      padding: 0.8rem; margin-bottom: 0.5rem;
      cursor: pointer; color: #888; border-radius: 6px; transition: 0.3s;
    }
    .sidebar li:hover { color: white; background: rgba(255,255,255,0.05); }
    .sidebar li.active { background: rgba(255, 204, 0, 0.1); color: #ffcc00; border-left: 3px solid #ffcc00; }

    /* Content Area */
    .doc-content {
      flex: 1;
      background: rgba(255,255,255,0.02);
      border-radius: 12px;
      padding: 2rem;
      border: 1px solid rgba(255,255,255,0.1);
    }

    .back-btn {
      background: transparent; border: 1px solid rgba(255,255,255,0.3); color: white;
      padding: 0.5rem 1rem; border-radius: 6px; cursor: pointer; margin-bottom: 2rem;
      transition: 0.3s;
    }
    .back-btn:hover { background: white; color: black; }

    /* Dynamic Content Styling */
    .topic-header-img {
      width: 100%;
      height: 250px;
      object-fit: cover;
      border-radius: 8px;
      margin-bottom: 1.5rem;
      border: 1px solid rgba(255,255,255,0.1);
    }

    .content-block h2 { font-size: 2rem; color: #fff; margin-bottom: 1rem; }
    .content-block h3 { color: #ffcc00; margin-top: 1.5rem; margin-bottom: 0.5rem; }
    .content-block p { margin-bottom: 1rem; color: #ccc; }
    .content-block ul { margin-left: 1.5rem; margin-bottom: 1.5rem; color: #ccc; }

    /* Video Container */
    .video-wrapper {
      position: relative;
      padding-bottom: 56.25%; /* 16:9 Aspect Ratio */
      height: 0;
      overflow: hidden;
      border-radius: 8px;
      margin: 1.5rem 0;
      border: 1px solid rgba(255,255,255,0.1);
    }
    .video-wrapper iframe {
      position: absolute; top: 0; left: 0; width: 100%; height: 100%;
    }

    /* Resources List */
    .resources-section {
      background: rgba(255,255,255,0.05);
      padding: 1.5rem;
      border-radius: 8px;
      margin-top: 2rem;
    }
    .resource-item {
      display: flex; align-items: center; justify-content: space-between;
      padding: 0.8rem; border-bottom: 1px solid rgba(255,255,255,0.1);
    }
    .resource-item:last-child { border-bottom: none; }
    .resource-info strong { display: block; color: white; }
    .resource-info span { font-size: 0.8rem; color: #888; }
    .download-btn {
      text-decoration: none; color: #ffcc00; font-size: 1.2rem; transition: 0.3s;
    }
    .download-btn:hover { color: white; transform: scale(1.1); }

    .upload-box {
        margin-top: 1rem; padding-top: 1rem; border-top: 1px dashed #555;
    }
    .upload-box input[type="file"] { color: #aaa; }

    @media(max-width: 768px) {
      .doc-page.active { flex-direction: column; }
      .sidebar { width: 100%; position: relative; top: 0; }
      .topic-header-img { height: 150px; }
    }
  </style>
</head>
<body>

  <!-- Navigation -->
  <nav>
    <h2 class="logo">Bhavesh</h2>
    <ul>
      <li><a href="index.html">Home</a></li>
      <li><a href="Mastery.html" class="active">Mastery</a></li>
      <li><a href="projects.html">Projects</a></li>
      <li><a href="contact.html">Contact</a></li>
    </ul>
  </nav>

  <!-- OVERVIEW SECTION -->
  <section id="overview" class="page">
    <h1>Technical Mastery</h1>
    <p>Developing games requires a blend of logic, art, and design. Below is a breakdown of my core competencies. Click on a card to view detailed documentation, code snippets, and video demonstrations.</p>
    
    <div class="mastery-blocks">
      <!-- Card 1 -->
      <div class="mastery-block" onclick="openCategory('animation')">
        <h3>Animation System</h3>
        <p>Advanced character movement and rigging.</p>
        <ul>
          <li>Unity Animator & Blend Trees</li>
          <li>Inverse Kinematics (IK)</li>
          <li>Procedural Animation</li>
        </ul>
      </div>

      <!-- Card 2 -->
      <div class="mastery-block" onclick="openCategory('programming')">
        <h3>Programming (C#)</h3>
        <p>Scalable architecture and clean code.</p>
        <ul>
          <li>Design Patterns (Singleton, Observer)</li>
          <li>Data Structures</li>
          <li>AI & Pathfinding</li>
        </ul>
      </div>

      <!-- Card 3 -->
      <div class="mastery-block" onclick="openCategory('gamedesign')">
        <h3>Game Design</h3>
        <p>Crafting mechanics and player experiences.</p>
        <ul>
          <li>Level Design</li>
          <li>UI/UX & Accessibility</li>
          <li>Game Loop Balancing</li>
        </ul>
      </div>

      <!-- Card 4 -->
      <div class="mastery-block" onclick="openCategory('techart')">
        <h3>Technical Art</h3>
        <p>Bridging the gap between art and code.</p>
        <ul>
          <li>Shader Graph & HLSL</li>
          <li>Particle Systems (VFX Graph)</li>
          <li>Performance Profiling</li>
        </ul>
      </div>
    </div>
  </section>

  <!-- DOCUMENTATION VIEW -->
  <section id="documentation-view" class="page doc-page">
    <!-- Sidebar -->
    <div class="sidebar">
      <h3 id="sidebar-title">Topic</h3>
      <ul id="sidebar-list">
        <!-- Injected via JS -->
      </ul>
    </div>

    <!-- Main Content -->
    <div class="doc-content">
      <button class="back-btn" onclick="closeCategory()">‚Üê Back to Overview</button>
      
      <!-- Dynamic Content Area -->
      <div id="dynamic-content">
        <!-- JS renders content here -->
      </div>
    </div>
  </section>

  <footer>
    <p>¬© 2025 Bhavesh. All rights reserved.</p>
  </footer>

  <script>
    // --- CONTENT DATABASE ---
    const contentDatabase = {
      animation: {
        title: "Animation",
        topics: [
          {
            id: "anim-intro",
            label: "Introduction",
            title: "Unity Animation Fundamentals",
            image: "https://picsum.photos/800/400?random=1", 
            videoID: "dQw4w9WgXcQ", 
            desc: "<p>Animation in Unity is driven by the Mecanim system. This section covers state machines, transitions, and parameters.</p>",
            resources: [
              { name: "Animation_Basics.pdf", size: "2MB" }
            ]
          },
          {
            id: "anim-ik",
            label: "Inverse Kinematics",
            title: "Advanced IK Implementation",
            image: "https://picsum.photos/800/400?random=2",
            videoID: "", 
            desc: "<p>Inverse Kinematics (IK) allows for procedural foot placement and hand interactions.</p>",
            resources: []
          }
        ]
      },
      programming: {
        title: "Programming",
        topics: [
          {
            id: "prog-patterns",
            label: "Design Patterns",
            title: "Singleton & Observer Patterns",
            image: "https://picsum.photos/800/400?random=3",
            videoID: "tgbNymZ7vqY",
            desc: "<p>Using design patterns ensures your code is decoupled and scalable.</p>",
            resources: [{ name: "C#_Design_Patterns.pdf", size: "4.2MB" }]
          }
        ]
      },
      gamedesign: {
        title: "Game Design",
        topics: [
          {
            id: "gd-level",
            label: "Level Design",
            title: "Pacing and Flow",
            image: "https://picsum.photos/800/400?random=5",
            videoID: "",
            desc: "<p>Understanding player psychology to guide them through levels.</p>",
            resources: [{ name: "Level_Design.pdf", size: "3MB" }]
          }
        ]
      },
      techart: {
        title: "Technical Art",
        topics: [
          {
            id: "ta-shader",
            label: "Shaders",
            title: "Shader Graph Magic",
            image: "https://picsum.photos/800/400?random=6",
            videoID: "",
            desc: "<p>Creating water, fire, and holographic effects using Unity Shader Graph.</p>",
            resources: []
          }
        ]
      }
    };

    let currentCategoryData = null;

    function openCategory(categoryKey) {
      const data = contentDatabase[categoryKey];
      if (!data) return;

      currentCategoryData = data;
      document.getElementById('overview').style.display = 'none';
      document.getElementById('documentation-view').classList.add('active');
      document.getElementById('sidebar-title').innerText = data.title;

      const sidebarList = document.getElementById('sidebar-list');
      sidebarList.innerHTML = ""; 

      data.topics.forEach((topic, index) => {
        const li = document.createElement('li');
        li.innerText = topic.label;
        if (index === 0) li.classList.add('active'); 
        li.onclick = () => loadTopicContent(index, li);
        sidebarList.appendChild(li);
      });

      loadTopicContent(0, sidebarList.firstChild);
      window.scrollTo(0,0);
    }

    function closeCategory() {
      document.getElementById('documentation-view').classList.remove('active');
      document.getElementById('overview').style.display = 'block';
      window.scrollTo(0,0);
    }

    function loadTopicContent(index, activeListItem) {
      const listItems = document.querySelectorAll('#sidebar-list li');
      listItems.forEach(item => item.classList.remove('active'));
      if(activeListItem) activeListItem.classList.add('active');

      const topic = currentCategoryData.topics[index];
      const contentContainer = document.getElementById('dynamic-content');

      let pdfHtml = "";
      if (topic.resources && topic.resources.length > 0) {
        pdfHtml = topic.resources.map(res => `
          <div class="resource-item">
            <div class="resource-info">
              <strong>üìÑ ${res.name}</strong>
              <span>${res.size}</span>
            </div>
            <a href="#" class="download-btn">‚¨á</a>
          </div>
        `).join('');
      } else {
        pdfHtml = "<p style='color:#666; font-style:italic;'>No resources available.</p>";
      }

      contentContainer.innerHTML = `
        <div class="content-block">
          ${topic.image ? `<img src="${topic.image}" class="topic-header-img" alt="${topic.title}">` : ''}
          <h2>${topic.title}</h2>
          <div>${topic.desc}</div>
          ${topic.videoID ? `
            <h3>üé• Video Demo</h3>
            <div class="video-wrapper">
              <iframe src="https://www.youtube.com/embed/${topic.videoID}" frameborder="0" allowfullscreen></iframe>
            </div>
          ` : ''}
          <div class="resources-section">
            <h3>üìö Resources</h3>
            <div class="resource-list">${pdfHtml}</div>
            <div class="upload-box">
              <p style="margin-bottom:0.5rem; font-size:0.9rem; color:#888;">Add to portfolio:</p>
              <input type="file" id="file-upload" accept=".pdf">
            </div>
          </div>
        </div>
      `;
    }
    
    document.addEventListener('change', (e) => {
        if(e.target && e.target.id === 'file-upload' && e.target.files.length > 0) {
            alert(`File "${e.target.files[0].name}" selected.`);
        }
    });
  </script>
</body>
</html>
